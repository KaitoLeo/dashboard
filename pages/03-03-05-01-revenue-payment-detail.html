<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>B√°o c√°o doanh s·ªë theo h√¨nh th·ª©c thanh to√°n - Actiwell Reports</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <link href="../assets/css/style.css" rel="stylesheet" />

    <!-- Revenue Calculation Modules -->
    <script src="../assets/js/revenue/revenue-calculations.js"></script>
    <script src="../assets/js/revenue/revenue-mock-data.js"></script>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container-fluid">
        <a class="navbar-brand" href="../index.html">
          <i class="fas fa-arrow-left me-2"></i>
          <i class="fas fa-heartbeat me-2"></i>
          Actiwell Reports
        </a>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="container-fluid mt-4">
      <!-- Header -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card">
            <div class="card-body">
              <h2 class="card-title">
                <i class="fas fa-credit-card me-2"></i>
                B√°o c√°o doanh s·ªë theo h√¨nh th·ª©c thanh to√°n
              </h2>
              <p class="text-muted">
                Ph√¢n t√≠ch chi ti·∫øt doanh s·ªë theo c√°c ph∆∞∆°ng th·ª©c thanh to√°n
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Summary Cards -->
      <div class="row mb-4">
        <div class="col-lg-3 col-md-6 mb-3">
          <div
            class="card bg-success text-white"
            style="cursor: pointer"
            onclick="showPaymentDetails('cash', 'Ti·ªÅn m·∫∑t')"
          >
            <div class="card-body text-center">
              <i class="fas fa-money-bill-wave fa-2x mb-2"></i>
              <h5 class="card-title">Ti·ªÅn m·∫∑t</h5>
              <h2 class="mb-0">800,000,000</h2>
              <small>43.2%</small>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-3">
          <div
            class="card bg-info text-white"
            style="cursor: pointer"
            onclick="showPaymentDetails('bank', 'Chuy·ªÉn kho·∫£n')"
          >
            <div class="card-body text-center">
              <i class="fas fa-university fa-2x mb-2"></i>
              <h5 class="card-title">Chuy·ªÉn kho·∫£n</h5>
              <h2 class="mb-0">700,000,000</h2>
              <small>37.8%</small>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-3">
          <div
            class="card bg-warning text-white"
            style="cursor: pointer"
            onclick="showPaymentDetails('card', 'MPOS/Card')"
          >
            <div class="card-body text-center">
              <i class="fas fa-mobile-alt fa-2x mb-2"></i>
              <h5 class="card-title">MPOS/Card</h5>
              <h2 class="mb-0">350,000,000</h2>
              <small>18.9%</small>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-3">
          <div class="card bg-primary text-white">
            <div class="card-body text-center">
              <i class="fas fa-chart-pie fa-2x mb-2"></i>
              <h5 class="card-title">T·ªïng doanh s·ªë</h5>
              <h2 class="mb-0">1,850,000,000</h2>
              <small>100%</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Payment Methods Analysis -->
      <div class="row mb-4">
        <div class="col-lg-6 mb-4">
          <div class="card">
            <div class="card-header">
              <h5 class="card-title mb-0">
                <i class="fas fa-chart-pie me-2"></i>
                Ph√¢n b·ªë doanh s·ªë theo h√¨nh th·ª©c thanh to√°n
              </h5>
            </div>
            <div class="card-body">
              <canvas id="paymentMethodChart" height="300"></canvas>
            </div>
          </div>
        </div>
        <div class="col-lg-6 mb-4">
          <div class="card">
            <div class="card-header">
              <h5 class="card-title mb-0">
                <i class="fas fa-chart-bar me-2"></i>
                Doanh s·ªë theo CLB v√† h√¨nh th·ª©c thanh to√°n
              </h5>
            </div>
            <div class="card-body">
              <canvas id="clubPaymentChart" height="300"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Detailed Analysis Table -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h5 class="card-title mb-0">
                <i class="fas fa-table me-2"></i>
                Chi ti·∫øt doanh s·ªë theo h√¨nh th·ª©c thanh to√°n
              </h5>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-striped table-hover">
                  <thead class="table-dark">
                    <tr>
                      <th>H√¨nh th·ª©c thanh to√°n</th>
                      <th>Doanh s·ªë (VNƒê)</th>
                      <th>T·ªâ l·ªá (%)</th>
                      <th>S·ªë giao d·ªãch</th>
                      <th>TB/GD (VNƒê)</th>
                      <th>Ph√≠ giao d·ªãch (VNƒê)</th>
                      <th>Doanh thu th·ª±c (VNƒê)</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr
                      style="cursor: pointer"
                      onclick="showPaymentDetails('cash', 'Ti·ªÅn m·∫∑t')"
                    >
                      <td><strong>Ti·ªÅn m·∫∑t</strong></td>
                      <td>800,000,000</td>
                      <td><span class="badge bg-success">43.2%</span></td>
                      <td>1,200</td>
                      <td>666,667</td>
                      <td>0</td>
                      <td>800,000,000</td>
                    </tr>
                    <tr
                      style="cursor: pointer"
                      onclick="showPaymentDetails('bank', 'Chuy·ªÉn kho·∫£n')"
                    >
                      <td><strong>Chuy·ªÉn kho·∫£n</strong></td>
                      <td>700,000,000</td>
                      <td><span class="badge bg-info">37.8%</span></td>
                      <td>850</td>
                      <td>823,529</td>
                      <td>3,500,000</td>
                      <td>696,500,000</td>
                    </tr>
                    <tr
                      style="cursor: pointer"
                      onclick="showPaymentDetails('card', 'MPOS/Card')"
                    >
                      <td><strong>MPOS/Card</strong></td>
                      <td>350,000,000</td>
                      <td><span class="badge bg-warning">18.9%</span></td>
                      <td>420</td>
                      <td>833,333</td>
                      <td>10,500,000</td>
                      <td>339,500,000</td>
                    </tr>
                  </tbody>
                  <tfoot class="table-dark">
                    <tr>
                      <th>T·ªîNG C·ªòNG</th>
                      <th>1,850,000,000</th>
                      <th>100%</th>
                      <th>2,470</th>
                      <th>749,392</th>
                      <th>14,000,000</th>
                      <th>1,836,000,000</th>
                    </tr>
                  </tfoot>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Payment Trends -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card">
            <div class="card-header">
              <h5 class="card-title mb-0">
                <i class="fas fa-chart-line me-2"></i>
                Xu h∆∞·ªõng thanh to√°n 12 th√°ng g·∫ßn ƒë√¢y
              </h5>
            </div>
            <div class="card-body">
              <canvas id="paymentTrendChart" height="100"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Analysis and Recommendations -->
      <div class="row">
        <div class="col-lg-6 mb-4">
          <div class="card">
            <div class="card-header">
              <h5 class="card-title mb-0">
                <i class="fas fa-chart-area me-2"></i>
                Ph√¢n t√≠ch hi·ªáu qu·∫£
              </h5>
            </div>
            <div class="card-body">
              <div class="mb-3">
                <h6>H√¨nh th·ª©c ph·ªï bi·∫øn nh·∫•t:</h6>
                <p class="text-success">Ti·ªÅn m·∫∑t - 43.2% (800M VNƒê)</p>
              </div>
              <div class="mb-3">
                <h6>H√¨nh th·ª©c c√≥ gi√° tr·ªã TB cao nh·∫•t:</h6>
                <p class="text-info">MPOS/Card - 833,333 VNƒê/giao d·ªãch</p>
              </div>
              <div class="mb-3">
                <h6>H√¨nh th·ª©c c√≥ ph√≠ th·∫•p nh·∫•t:</h6>
                <p class="text-success">Ti·ªÅn m·∫∑t - 0 VNƒê ph√≠</p>
              </div>
              <div class="mb-3">
                <h6>Doanh thu th·ª±c sau ph√≠:</h6>
                <p class="text-primary">1,836,000,000 VNƒê (99.2%)</p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-6 mb-4">
          <div class="card">
            <div class="card-header">
              <h5 class="card-title mb-0">
                <i class="fas fa-lightbulb me-2"></i>
                Khuy·∫øn ngh·ªã c·∫£i thi·ªán
              </h5>
            </div>
            <div class="card-body">
              <ul class="list-group list-group-flush">
                <li class="list-group-item">
                  <i class="fas fa-check-circle text-success me-2"></i>
                  Khuy·∫øn kh√≠ch thanh to√°n chuy·ªÉn kho·∫£n ƒë·ªÉ gi·∫£m r·ªßi ro
                </li>
                <li class="list-group-item">
                  <i class="fas fa-check-circle text-success me-2"></i>
                  TƒÉng c∆∞·ªùng s·ª≠ d·ª•ng MPOS cho giao d·ªãch l·ªõn
                </li>
                <li class="list-group-item">
                  <i class="fas fa-check-circle text-success me-2"></i>
                  ƒê√†m ph√°n ph√≠ giao d·ªãch th·∫•p h∆°n v·ªõi ng√¢n h√†ng
                </li>
                <li class="list-group-item">
                  <i class="fas fa-check-circle text-success me-2"></i>
                  Tri·ªÉn khai v√≠ ƒëi·ªán t·ª≠ ƒë·ªÉ tƒÉng ti·ªán l·ª£i
                </li>
                <li class="list-group-item">
                  <i class="fas fa-check-circle text-success me-2"></i>
                  Theo d√µi xu h∆∞·ªõng thanh to√°n ƒë·ªÉ ƒëi·ªÅu ch·ªânh chi·∫øn l∆∞·ª£c
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.min.js"></script>
    <script>
      // Payment Method Chart
      const paymentCtx = document.getElementById("paymentMethodChart");
      if (paymentCtx) {
        new Chart(paymentCtx, {
          type: "doughnut",
          data: {
            labels: ["Ti·ªÅn m·∫∑t", "Chuy·ªÉn kho·∫£n", "MPOS/Card"],
            datasets: [
              {
                data: [43.2, 37.8, 18.9],
                backgroundColor: [
                  "rgba(40, 167, 69, 0.8)",
                  "rgba(23, 162, 184, 0.8)",
                  "rgba(255, 193, 7, 0.8)",
                ],
                borderColor: [
                  "rgba(40, 167, 69, 1)",
                  "rgba(23, 162, 184, 1)",
                  "rgba(255, 193, 7, 1)",
                ],
                borderWidth: 3,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              title: {
                display: true,
                text: "T·ªâ tr·ªçng doanh s·ªë theo h√¨nh th·ª©c thanh to√°n (%)",
              },
              legend: {
                position: "bottom",
              },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    const label = context.label || "";
                    const value = context.parsed;
                    return `${label}: ${value}%`;
                  },
                },
              },
            },
          },
        });
      }

      // Club Payment Chart
      const clubCtx = document.getElementById("clubPaymentChart");
      if (clubCtx) {
        new Chart(clubCtx, {
          type: "bar",
          data: {
            labels: [
              "T√¥n Th·∫•t Thuy·∫øt",
              "Hu·ª≥nh Th√∫c Kh√°ng",
              "Gi·∫£ng V√µ",
              "H√†o Nam",
              "Nguy·ªÖn Tu√¢n",
            ],
            datasets: [
              {
                label: "Ti·ªÅn m·∫∑t",
                data: [120, 140, 110, 100, 80],
                backgroundColor: "rgba(40, 167, 69, 0.8)",
              },
              {
                label: "Chuy·ªÉn kho·∫£n",
                data: [100, 120, 90, 85, 70],
                backgroundColor: "rgba(23, 162, 184, 0.8)",
              },
              {
                label: "MPOS/Card",
                data: [50, 60, 45, 40, 35],
                backgroundColor: "rgba(255, 193, 7, 0.8)",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              title: {
                display: true,
                text: "Doanh s·ªë theo CLB v√† h√¨nh th·ª©c thanh to√°n (Tri·ªáu VNƒê)",
              },
              legend: {
                position: "top",
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                stacked: false,
                ticks: {
                  callback: function (value) {
                    return value + "M";
                  },
                },
              },
            },
          },
        });
      }

      // Payment Trend Chart
      const trendCtx = document.getElementById("paymentTrendChart");
      if (trendCtx) {
        new Chart(trendCtx, {
          type: "line",
          data: {
            labels: [
              "T1",
              "T2",
              "T3",
              "T4",
              "T5",
              "T6",
              "T7",
              "T8",
              "T9",
              "T10",
              "T11",
              "T12",
            ],
            datasets: [
              {
                label: "Ti·ªÅn m·∫∑t",
                data: [65, 70, 68, 75, 80, 72, 78, 82, 76, 85, 83, 88],
                borderColor: "rgba(40, 167, 69, 1)",
                backgroundColor: "rgba(40, 167, 69, 0.1)",
                tension: 0.3,
              },
              {
                label: "Chuy·ªÉn kho·∫£n",
                data: [55, 60, 58, 65, 70, 62, 68, 72, 66, 75, 73, 78],
                borderColor: "rgba(23, 162, 184, 1)",
                backgroundColor: "rgba(23, 162, 184, 0.1)",
                tension: 0.3,
              },
              {
                label: "MPOS/Card",
                data: [25, 28, 26, 30, 32, 28, 30, 32, 28, 35, 33, 38],
                borderColor: "rgba(255, 193, 7, 1)",
                backgroundColor: "rgba(255, 193, 7, 0.1)",
                tension: 0.3,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              title: {
                display: true,
                text: "Xu h∆∞·ªõng thanh to√°n 12 th√°ng (Tri·ªáu VNƒê)",
              },
              legend: {
                position: "top",
              },
            },
            scales: {
              y: {
                beginAtZero: true,
                ticks: {
                  callback: function (value) {
                    return value + "M";
                  },
                },
              },
            },
          },
        });
      }
    </script>

    <!-- Dynamic Order Details Section -->
    <div class="row mb-4" id="orderDetailsSection" style="display: none">
      <div class="col-12">
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0">
              <i class="fas fa-receipt me-2"></i>Chi ti·∫øt ƒë∆°n h√†ng -
              <span id="selectedPaymentMethod"></span>
            </h5>
          </div>
          <div class="card-body">
            <div class="table-responsive">
              <table class="table table-striped table-hover table-sm">
                <thead class="table-dark">
                  <tr>
                    <th>STT</th>
                    <th>M√£ ƒë∆°n h√†ng</th>
                    <th>Kh√°ch h√†ng</th>
                    <th>Trung t√¢m</th>
                    <th>Nh√¢n vi√™n</th>
                    <th>D·ªãch v·ª•</th>
                    <th>S·ªë ti·ªÅn</th>
                    <th>Ng√†y thanh to√°n</th>
                    <th>Tr·∫°ng th√°i</th>
                  </tr>
                </thead>
                <tbody id="orderDetailsTableBody"></tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Sample order data for each payment method
      const orderDetails = {
        cash: [
          {
            id: "ORD001",
            customer: "Nguy·ªÖn VƒÉn A",
            center: "T√¥n Th·∫•t Thuy·∫øt",
            staff: "Nguy·ªÖn Th·ªã Lan",
            service: "G√≥i t·∫≠p 3 th√°ng",
            amount: 2500000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
          {
            id: "ORD002",
            customer: "Tr·∫ßn Th·ªã B",
            center: "Hu·ª≥nh Th√∫c Kh√°ng",
            staff: "L√™ VƒÉn Minh",
            service: "PT 10 bu·ªïi",
            amount: 5000000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
          {
            id: "ORD003",
            customer: "L√™ VƒÉn C",
            center: "Gi·∫£ng V√µ",
            staff: "Ph·∫°m Th·ªã Hoa",
            service: "G√≥i t·∫≠p 6 th√°ng",
            amount: 4500000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
          {
            id: "ORD004",
            customer: "Ph·∫°m Th·ªã D",
            center: "H√†o Nam",
            staff: "Tr·∫ßn VƒÉn ƒê·ª©c",
            service: "G√≥i t·∫≠p 1 nƒÉm",
            amount: 8000000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
          {
            id: "ORD005",
            customer: "Ho√†ng VƒÉn E",
            center: "Nguy·ªÖn Tu√¢n",
            staff: "V≈© Th·ªã Mai",
            service: "PT 20 bu·ªïi",
            amount: 10000000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
        ],
        bank: [
          {
            id: "ORD006",
            customer: "V≈© Th·ªã F",
            center: "T√¥n Th·∫•t Thuy·∫øt",
            staff: "Nguy·ªÖn Th·ªã Lan",
            service: "G√≥i t·∫≠p 3 th√°ng",
            amount: 2500000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
          {
            id: "ORD007",
            customer: "ƒê·∫∑ng VƒÉn G",
            center: "Hu·ª≥nh Th√∫c Kh√°ng",
            staff: "L√™ VƒÉn Minh",
            service: "PT 15 bu·ªïi",
            amount: 7500000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
          {
            id: "ORD008",
            customer: "B√πi Th·ªã H",
            center: "Gi·∫£ng V√µ",
            staff: "Ph·∫°m Th·ªã Hoa",
            service: "G√≥i t·∫≠p 6 th√°ng",
            amount: 4500000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
          {
            id: "ORD009",
            customer: "Phan VƒÉn I",
            center: "H√†o Nam",
            staff: "Tr·∫ßn VƒÉn ƒê·ª©c",
            service: "G√≥i t·∫≠p 1 nƒÉm",
            amount: 8000000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
          {
            id: "ORD010",
            customer: "Ng√¥ Th·ªã K",
            center: "Nguy·ªÖn Tu√¢n",
            staff: "V≈© Th·ªã Mai",
            service: "PT 25 bu·ªïi",
            amount: 12500000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
        ],
        card: [
          {
            id: "ORD011",
            customer: "L√™ Th·ªã L",
            center: "T√¥n Th·∫•t Thuy·∫øt",
            staff: "Nguy·ªÖn Th·ªã Lan",
            service: "G√≥i t·∫≠p 3 th√°ng",
            amount: 2500000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
          {
            id: "ORD012",
            customer: "Nguy·ªÖn VƒÉn M",
            center: "Hu·ª≥nh Th√∫c Kh√°ng",
            staff: "L√™ VƒÉn Minh",
            service: "PT 12 bu·ªïi",
            amount: 6000000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
          {
            id: "ORD013",
            customer: "Tr·∫ßn Th·ªã N",
            center: "Gi·∫£ng V√µ",
            staff: "Ph·∫°m Th·ªã Hoa",
            service: "G√≥i t·∫≠p 6 th√°ng",
            amount: 4500000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
          {
            id: "ORD014",
            customer: "Ph·∫°m VƒÉn O",
            center: "H√†o Nam",
            staff: "Tr·∫ßn VƒÉn ƒê·ª©c",
            service: "G√≥i t·∫≠p 1 nƒÉm",
            amount: 8000000,
            date: getRandomRecentDate(),
            status: "Ho√†n th√†nh",
          },
        ],
      };

      // Generate random recent date within last 30 days
      function getRandomRecentDate() {
        const today = new Date();
        const randomDays = Math.floor(rng.next() * 30) + 1; // 1-30 days ago
        const randomDate = new Date(today);
        randomDate.setDate(today.getDate() - randomDays);
        return randomDate.toLocaleDateString("vi-VN");
      }

      // Show payment method details
      function showPaymentDetails(paymentType, paymentName) {
        document.getElementById("selectedPaymentMethod").textContent =
          paymentName;
        document.getElementById("orderDetailsSection").style.display = "block";

        // Populate order details table
        const tableBody = document.getElementById("orderDetailsTableBody");
        tableBody.innerHTML = "";

        if (orderDetails[paymentType]) {
          orderDetails[paymentType].forEach((order, index) => {
            const row = document.createElement("tr");
            row.innerHTML = `
              <td>${index + 1}</td>
              <td><strong>${order.id}</strong></td>
              <td>${order.customer}</td>
              <td><span class="badge bg-primary">${order.center}</span></td>
              <td><span class="badge bg-info">${order.staff}</span></td>
              <td>${order.service}</td>
              <td>${formatNumber(order.amount)} VNƒê</td>
              <td>${order.date}</td>
              <td><span class="badge bg-success">${order.status}</span></td>
            `;
            tableBody.appendChild(row);
          });
        }

        // Scroll to details section
        document
          .getElementById("orderDetailsSection")
          .scrollIntoView({ behavior: "smooth" });
      }

      // Format number with commas
      function formatNumber(num) {
        return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      }
    </script>

    <!-- SPA System -->
    <script src="../assets/js/spa/store.js"></script>
    <script src="../assets/js/spa/components.js"></script>
    <script src="../assets/js/spa/router.js"></script>
    <script src="../assets/js/spa/integration.js"></script>

    <script>
      /**
       * Revenue by Payment - Dynamic Calculations
       */
      window.addEventListener("load", function () {
        if (
          typeof window.revenueCalc !== "undefined" &&
          typeof window.currentMonthRevenue !== "undefined"
        ) {
          console.log(
            "üí≥ Initializing Revenue by Payment with dynamic calculations..."
          );
          calculatePaymentRevenue();
        } else {
          console.warn("‚ö†Ô∏è Revenue modules not loaded for payment page");
        }
      });

      function calculatePaymentRevenue() {
        try {
          const currentRevenue = window.currentMonthRevenue;
          const paymentMethods = [
            "Ti·ªÅn m·∫∑t",
            "Chuy·ªÉn kho·∫£n",
            "Th·∫ª t√≠n d·ª•ng",
            "V√≠ ƒëi·ªán t·ª≠",
          ];

          // Calculate revenue by payment method
          const revenueByPayment = window.revenueCalc.calculateRevenueByPayment(
            currentRevenue,
            paymentMethods
          );
          const paymentPercentages =
            window.revenueCalc.calculatePercentageDistribution(
              revenueByPayment
            );

          console.log("‚úÖ Revenue by Payment calculated:");
          paymentMethods.forEach((method) => {
            console.log(
              `   ${method}: ${window.revenueCalc.formatCurrency(
                revenueByPayment[method]
              )} VNƒê (${paymentPercentages[method].toFixed(1)}%)`
            );
          });
        } catch (error) {
          console.error("‚ùå Error calculating payment revenue:", error);
        }
      }
    </script>

    <script>
      // Seeded Random Number Generator for Consistent Data
      class SeededRandom {
        constructor(seed = 12345) {
          this.seed = seed;
        }

        next() {
          this.seed = (this.seed * 9301 + 49297) % 233280;
          return this.seed / 233280;
        }

        nextInt(min, max) {
          return Math.floor(this.next() * (max - min + 1)) + min;
        }

        nextFloat(min, max, decimals = 2) {
          return parseFloat(
            (this.next() * (max - min) + min).toFixed(decimals)
          );
        }

        choice(array) {
          return array[this.nextInt(0, array.length - 1)];
        }
      }

      // Initialize seeded random generator
      const rng = new SeededRandom(12345);
    </script>

    <!-- Universal Page Initializer -->
    <script src="../assets/js/shared/page-initializer.js"></script>
  </body>
</html>
